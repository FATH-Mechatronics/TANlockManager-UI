; =========================================================
; This file was generated by NSISDialogDesigner 1.5.0.0
; https://coolsoft.altervista.org/nsisdialogdesigner
;
; Do not edit it manually, use NSISDialogDesigner instead!
; =========================================================

; handle variables
Var hCtl_TANlockManagerBaseConfig
Var hCtl_TANlockManagerBaseConfig_ServiceNameTextBox
Var hCtl_TANlockManagerBaseConfig_AddServiceCheckBox
Var hCtl_TANlockManagerBaseConfig_HLine1
Var hCtl_TANlockManagerBaseConfig_HLine2
Var hCtl_TANlockManagerBaseConfig_Label4
Var hCtl_TANlockManagerBaseConfig_ClientBaseURLTextBox
Var hCtl_TANlockManagerBaseConfig_AddFirewallCheckBox
Var hCtl_TANlockManagerBaseConfig_Label1
Var hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Txt
Var hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn


; dialog create function
Function fnc_TANlockManagerBaseConfig_Create

  ; === TANlockManagerBaseConfig (type: Dialog) ===
  nsDialogs::Create 1018
  Pop $hCtl_TANlockManagerBaseConfig
  ${If} $hCtl_TANlockManagerBaseConfig == error
    Abort
  ${EndIf}
  !insertmacro MUI_HEADER_TEXT "Base Configuration" "Base Config and Service Installation"

  ; === ServiceNameTextBox (type: Text) ===
  ${NSD_CreateText} 92u 9u 66u 12u ${MUI_PRODUCT}
  Pop $hCtl_TANlockManagerBaseConfig_ServiceNameTextBox
  SetCtlColors $hCtl_TANlockManagerBaseConfig_ServiceNameTextBox 0x000000 0xF0F0F0
  SendMessage $hCtl_TANlockManagerBaseConfig_ServiceNameTextBox ${EM_SETREADONLY} 1 0

  ; === AddServiceCheckBox (type: Checkbox) ===
  ${NSD_CreateCheckbox} 8u 7u 68u 15u "Add Service"
  Pop $hCtl_TANlockManagerBaseConfig_AddServiceCheckBox

  ; === HLine1 (type: HLine) ===
  ${NSD_CreateHLine} 8u 80u 280u 1u ""
  Pop $hCtl_TANlockManagerBaseConfig_HLine1

  ; === HLine2 (type: HLine) ===
  ${NSD_CreateHLine} 8u 44u 280u 1u ""
  Pop $hCtl_TANlockManagerBaseConfig_HLine2

  ; === Label4 (type: Label) ===
  ${NSD_CreateLabel} 8u 47u 39u 12u "Base URL"
  Pop $hCtl_TANlockManagerBaseConfig_Label4

  ; === ClientBaseURLTextBox (type: Text) ===
  ${NSD_CreateText} 8u 61u 259u 12u ""
  Pop $hCtl_TANlockManagerBaseConfig_ClientBaseURLTextBox

  ${If} ${PROD_TYPE} == "UI"
  ${Else}
    EnableWindow $hCtl_TANlockManagerBaseConfig_ClientBaseURLTextBox 0
  ${EndIf}

  ; === AddFirewallCheckBox (type: Checkbox) ===
  ${NSD_CreateCheckbox} 8u 26u 132u 15u "Add Firewall Exception"
  Pop $hCtl_TANlockManagerBaseConfig_AddFirewallCheckBox

  ; === Label1 (type: Label) ===
  ${NSD_CreateLabel} 8u 83u 66u 14u "Data BasePath"
  Pop $hCtl_TANlockManagerBaseConfig_Label1

  ; === BasepathDirRequest_Txt (type: Text) ===
  ${NSD_CreateText} 8u 99u 259u 12u ""
  Pop $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Txt

  ${If} ${PROD_TYPE} == "UI"
    EnableWindow $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Txt 0
  ${Else}
  ${EndIf}

  ; === BasepathDirRequest_Btn (type: Button) ===
  ${NSD_CreateButton} 269u 99u 20u 12u "..."
  Pop $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn
  ${If} ${PROD_TYPE} == "UI"
    EnableWindow $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn 0
  ${Else}
  ${EndIf}
  ${NSD_OnClick} $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn fnc_hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Click

FunctionEnd

; dialog show function
Function fnc_TANlockManagerBaseConfig_Show
  Call fnc_TANlockManagerBaseConfig_Create
  nsDialogs::Show
FunctionEnd


; onClick handler for DirRequest Button $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn
Function fnc_hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Click
	Pop $R0
	${If} $R0 == $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Btn
		${NSD_GetText} $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Txt $R0
		nsDialogs::SelectFolderDialog /NOUNLOAD "Select the Folder where Config, Logs and Photos are saved" "$R0"
		Pop $R0
		${If} "$R0" != "error"
			${NSD_SetText} $hCtl_TANlockManagerBaseConfig_BasepathDirRequest_Txt "$R0"
		${EndIf}
	${EndIf}
FunctionEnd
